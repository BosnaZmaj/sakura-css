<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goals - Sakura Budget</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="src/sakura.css">
</head>
<body class="sakura-dashboard-body">
    <!-- Dashboard Header -->
    <header class="sakura-dashboard-header">
        <div class="sakura-dashboard-header-container">
            <div class="sakura-header-left">
                <div class="sakura-navbar-brand">
                    <img src="dist/sakura-logo.svg" alt="Sakura Budget" class="sakura-navbar-logo" style="height: 80px; width: auto;">
                </div>
                <nav class="sakura-breadcrumb">
                    <span class="sakura-breadcrumb-item">Goals</span>
                </nav>
            </div>
            <div class="sakura-header-right">
                <div class="sakura-notification-container">
                    <button class="sakura-notification-btn">
                        <i class="bi bi-bell"></i>
                        <span class="sakura-notification-badge">3</span>
                    </button>
                    <div class="sakura-notification-dropdown">
                        <div class="sakura-notification-header">
                            <h3>Notifications</h3>
                            <button class="sakura-notification-mark-all">Mark all as read</button>
                        </div>
                        <div class="sakura-notification-list">
                            <div class="sakura-notification-item unread" data-type="budget">
                                <div class="sakura-notification-icon budget">
                                    <i class="bi bi-exclamation-triangle"></i>
                                </div>
                                <div class="sakura-notification-content">
                                    <div class="sakura-notification-title">Entertainment envelope at 90%</div>
                                    <div class="sakura-notification-message">You have $50 remaining in your Entertainment budget</div>
                                    <div class="sakura-notification-time">2 hours ago</div>
                                </div>
                                <button class="sakura-notification-mark-read">
                                    <i class="bi bi-check"></i>
                                </button>
                            </div>
                            <div class="sakura-notification-item unread" data-type="goal">
                                <div class="sakura-notification-icon goal">
                                    <i class="bi bi-bullseye"></i>
                                </div>
                                <div class="sakura-notification-content">
                                    <div class="sakura-notification-title">Emergency Fund milestone reached</div>
                                    <div class="sakura-notification-message">Congratulations! Your Emergency Fund is now 50% complete</div>
                                    <div class="sakura-notification-time">5 hours ago</div>
                                </div>
                                <button class="sakura-notification-mark-read">
                                    <i class="bi bi-check"></i>
                                </button>
                            </div>
                            <div class="sakura-notification-item unread" data-type="income">
                                <div class="sakura-notification-icon income">
                                    <i class="bi bi-cash-coin"></i>
                                </div>
                                <div class="sakura-notification-content">
                                    <div class="sakura-notification-title">Salary deposited</div>
                                    <div class="sakura-notification-message">$3,500.00 has been added to your Chase Bank account</div>
                                    <div class="sakura-notification-time">Yesterday at 9:15 AM</div>
                                </div>
                                <button class="sakura-notification-mark-read">
                                    <i class="bi bi-check"></i>
                                </button>
                            </div>
                        </div>
                        <div class="sakura-notification-footer">
                            <a href="notifications.html" class="sakura-notification-view-all">
                                View All Notifications
                                <i class="bi bi-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="sakura-user-menu">
                    <img src="https://avatar.iran.liara.run/public" alt="User" class="sakura-user-avatar">
                    <div class="sakura-user-info">
                        <span class="sakura-user-name">Pablo Peso</span>
                        <span class="sakura-user-email">pablo@sakura.com</span>
                    </div>
                    <button class="sakura-user-menu-toggle">
                        <i class="bi bi-chevron-down"></i>
                    </button>
                    <div class="sakura-user-dropdown">
                        <button class="sakura-dropdown-item">
                            <i class="bi bi-person"></i>
                            Profile Settings
                        </button>
                        <button class="sakura-dropdown-item">
                            <i class="bi bi-gear"></i>
                            Preferences
                        </button>
                        <button class="sakura-dropdown-item">
                            <i class="bi bi-question-circle"></i>
                            Help Center
                        </button>
                        <hr class="sakura-dropdown-divider">
                        <button class="sakura-dropdown-item logout">
                            <i class="bi bi-box-arrow-right"></i>
                            Logout
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Dashboard Layout -->
    <div class="sakura-dashboard-layout">
        <!-- Sidebar -->
        <aside class="sakura-dashboard-sidebar">
            <nav class="sakura-sidebar-nav">
                <div class="sakura-nav-section">
                    <span class="sakura-section-title">Dashboard</span>
                    <a href="dashboard.html" class="sakura-nav-item">
                        <i class="bi bi-grid"></i>
                        <span>Overview</span>
                    </a>
                    <a href="envelopes.html" class="sakura-nav-item">
                        <i class="bi bi-envelope"></i>
                        <span>Envelopes</span>
                    </a>
                    <a href="transactions.html" class="sakura-nav-item">
                        <i class="bi bi-arrow-left-right"></i>
                        <span>Transactions</span>
                    </a>
                </div>
                <div class="sakura-nav-section">
                    <span class="sakura-section-title">Budget</span>
                    <a href="income.html" class="sakura-nav-item">
                        <i class="bi bi-cash-coin"></i>
                        <span>Income</span>
                    </a>
                    <a href="analytics.html" class="sakura-nav-item">
                        <i class="bi bi-graph-up"></i>
                        <span>Analytics</span>
                    </a>
                    <a href="goals.html" class="sakura-nav-item sakura-nav-item--active">
                        <i class="bi bi-bullseye"></i>
                        <span>Goals</span>
                    </a>
                    <a href="calendar.html" class="sakura-nav-item">
                        <i class="bi bi-calendar"></i>
                        <span>Calendar</span>
                    </a>
                    <a href="#" class="sakura-nav-item">
                        <i class="bi bi-bar-chart"></i>
                        <span>Reports</span>
                    </a>
                </div>
                <div class="sakura-nav-section">
                    <span class="sakura-section-title">Settings</span>
                    <a href="account.html" class="sakura-nav-item">
                        <i class="bi bi-gear"></i>
                        <span>Account</span>
                    </a>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="sakura-dashboard-main">
            <!-- Page Header -->
            <section class="sakura-page-header">
                <div class="sakura-page-header-content">
                    <h1>Savings Goals</h1>
                    <p>Track your progress toward financial milestones</p>
                </div>
                <div class="sakura-page-header-actions">
                    <button class="sakura-btn sakura-btn--outline">
                        <i class="bi bi-download"></i>
                        Export
                    </button>
                    <button class="sakura-btn sakura-btn--primary" id="openCreateGoalModal">
                        <i class="bi bi-plus-lg"></i>
                        Create Goal
                    </button>
                </div>
            </section>

            <!-- Goals Summary -->
            <section class="sakura-transaction-summary">
                    <div class="sakura-summary-card">
                        <div class="sakura-summary-icon" style="background: linear-gradient(135deg, #10b981, #34d399);">
                            <i class="bi bi-trophy"></i>
                        </div>
                        <div class="sakura-summary-content">
                            <div class="sakura-summary-label">Total Saved</div>
                            <div class="sakura-summary-amount">$7,950</div>
                            <div class="sakura-summary-change positive">+$1,200 this month</div>
                        </div>
                    </div>

                    <div class="sakura-summary-card">
                        <div class="sakura-summary-icon" style="background: linear-gradient(135deg, #3b82f6, #60a5fa);">
                            <i class="bi bi-bullseye"></i>
                        </div>
                        <div class="sakura-summary-content">
                            <div class="sakura-summary-label">Active Goals</div>
                            <div class="sakura-summary-amount">2</div>
                            <div class="sakura-summary-change">In progress</div>
                        </div>
                    </div>

                    <div class="sakura-summary-card">
                        <div class="sakura-summary-icon" style="background: linear-gradient(135deg, #8b5cf6, #a78bfa);">
                            <i class="bi bi-calendar-check"></i>
                        </div>
                        <div class="sakura-summary-content">
                            <div class="sakura-summary-label">Avg. Monthly</div>
                            <div class="sakura-summary-amount">$625</div>
                            <div class="sakura-summary-change">Contribution rate</div>
                        </div>
                    </div>

                    <div class="sakura-summary-card">
                        <div class="sakura-summary-icon" style="background: linear-gradient(135deg, #f59e0b, #fbbf24);">
                            <i class="bi bi-graph-up-arrow"></i>
                        </div>
                        <div class="sakura-summary-content">
                            <div class="sakura-summary-label">Target Total</div>
                            <div class="sakura-summary-amount">$13,000</div>
                            <div class="sakura-summary-change">61% complete</div>
                        </div>
                    </div>
            </section>

            <!-- Goals List -->
            <section class="sakura-goals-section">
                <div class="sakura-section-header">
                    <h2>Your Goals</h2>
                </div>

                <div class="sakura-goals-grid">
                    <!-- Goal Card 1: Emergency Fund -->
                    <div class="sakura-goal-card">
                        <div class="sakura-goal-header">
                            <div class="sakura-goal-icon">
                                <i class="bi bi-currency-dollar"></i>
                            </div>
                            <div class="sakura-goal-title-section">
                                <h3>Emergency Fund</h3>
                                <span class="sakura-goal-category">Financial Security</span>
                                <p class="sakura-goal-target">Target: $10,000 by Dec 2025</p>
                            </div>
                            <button class="sakura-goal-menu">⋯</button>
                        </div>
                        <div class="sakura-goal-progress">
                            <div class="sakura-goal-amounts">
                                <span class="sakura-goal-current">$6,750</span>
                                <span class="sakura-goal-target-amount">$10,000</span>
                            </div>
                            <div class="sakura-goal-progress-bar">
                                <div class="sakura-goal-progress-fill" style="width: 67.5%"></div>
                            </div>
                        </div>
                        <div class="sakura-goal-actions">
                            <button class="sakura-btn sakura-btn--outline">Add Funds</button>
                            <a href="emergency-fund.html" class="sakura-btn sakura-btn--primary">View Details</a>
                        </div>
                    </div>

                    <!-- Goal Card 2: Vacation Fund -->
                    <div class="sakura-goal-card">
                        <div class="sakura-goal-header">
                            <div class="sakura-goal-icon">
                                <i class="bi bi-geo-alt"></i>
                            </div>
                            <div class="sakura-goal-title-section">
                                <h3>Vacation Fund</h3>
                                <span class="sakura-goal-category">Travel & Leisure</span>
                                <p class="sakura-goal-target">Target: $3,000 by Jun 2025</p>
                            </div>
                            <button class="sakura-goal-menu">⋯</button>
                        </div>
                        <div class="sakura-goal-progress">
                            <div class="sakura-goal-amounts">
                                <span class="sakura-goal-current">$1,200</span>
                                <span class="sakura-goal-target-amount">$3,000</span>
                            </div>
                            <div class="sakura-goal-progress-bar">
                                <div class="sakura-goal-progress-fill" style="width: 40%"></div>
                            </div>
                        </div>
                        <div class="sakura-goal-actions">
                            <button class="sakura-btn sakura-btn--outline">Add Funds</button>
                            <button class="sakura-btn sakura-btn--primary">View Details</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Create Goal Modal -->
    <div class="sakura-modal" id="createGoalModal">
        <div class="sakura-modal-overlay"></div>
        <div class="sakura-modal-content sakura-modal-content--medium">
            <div class="sakura-modal-header">
                <h2>Create New Goal</h2>
                <button class="sakura-modal-close" data-close-modal>
                    <i class="bi bi-x"></i>
                </button>
            </div>
            <div class="sakura-modal-body">
                <form id="createGoalForm">
                    <!-- Goal Name -->
                    <div class="sakura-form-group">
                        <label for="goalName">Goal Name *</label>
                        <input type="text" id="goalName" class="sakura-input" placeholder="e.g., Emergency Fund, Vacation" required>
                    </div>

                    <!-- Category & Icon Row -->
                    <div class="sakura-form-row sakura-form-row--split">
                        <!-- Category -->
                        <div class="sakura-form-group">
                            <label for="goalCategory">Category *</label>
                            <div class="sakura-custom-select" id="goalCategorySelect">
                                <div class="sakura-custom-select-trigger placeholder">Select category...</div>
                                <div class="sakura-custom-select-dropdown">
                                    <div class="sakura-custom-select-option" data-value="financial-security">
                                        <i class="bi bi-shield-check sakura-option-icon"></i>
                                        Financial Security
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="travel-leisure">
                                        <i class="bi bi-airplane sakura-option-icon"></i>
                                        Travel & Leisure
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="home-purchase">
                                        <i class="bi bi-house sakura-option-icon"></i>
                                        Home Purchase
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="education">
                                        <i class="bi bi-mortarboard sakura-option-icon"></i>
                                        Education
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="vehicle">
                                        <i class="bi bi-car-front sakura-option-icon"></i>
                                        Vehicle Purchase
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="investment">
                                        <i class="bi bi-graph-up sakura-option-icon"></i>
                                        Investment
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="wedding">
                                        <i class="bi bi-heart sakura-option-icon"></i>
                                        Wedding
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="other">
                                        <i class="bi bi-star sakura-option-icon"></i>
                                        Other
                                    </div>
                                </div>
                                <input type="hidden" id="goalCategory" required>
                            </div>
                        </div>

                        <!-- Icon Selection -->
                        <div class="sakura-form-group">
                            <label for="goalIcon">Icon *</label>
                            <div class="sakura-custom-select" id="goalIconSelect">
                                <div class="sakura-custom-select-trigger placeholder">Select icon...</div>
                                <div class="sakura-custom-select-dropdown">
                                    <div class="sakura-custom-select-option" data-value="currency-dollar">
                                        <i class="bi bi-currency-dollar sakura-option-icon"></i>
                                        Dollar Sign
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="piggy-bank">
                                        <i class="bi bi-piggy-bank sakura-option-icon"></i>
                                        Piggy Bank
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="geo-alt">
                                        <i class="bi bi-geo-alt sakura-option-icon"></i>
                                        Location Pin
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="house">
                                        <i class="bi bi-house sakura-option-icon"></i>
                                        House
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="car-front">
                                        <i class="bi bi-car-front sakura-option-icon"></i>
                                        Car
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="airplane">
                                        <i class="bi bi-airplane sakura-option-icon"></i>
                                        Airplane
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="mortarboard">
                                        <i class="bi bi-mortarboard sakura-option-icon"></i>
                                        Graduation Cap
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="heart">
                                        <i class="bi bi-heart sakura-option-icon"></i>
                                        Heart
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="trophy">
                                        <i class="bi bi-trophy sakura-option-icon"></i>
                                        Trophy
                                    </div>
                                    <div class="sakura-custom-select-option" data-value="star">
                                        <i class="bi bi-star sakura-option-icon"></i>
                                        Star
                                    </div>
                                </div>
                                <input type="hidden" id="goalIcon" required>
                            </div>
                        </div>
                    </div>

                    <!-- Target Amount & Target Date Row -->
                    <div class="sakura-form-row sakura-form-row--amount-frequency">
                        <!-- Target Amount -->
                        <div class="sakura-form-group">
                            <label for="goalTargetAmount">Target Amount *</label>
                            <div class="sakura-input-with-prefix">
                                <span class="sakura-input-prefix">$</span>
                                <input type="number" id="goalTargetAmount" class="sakura-input sakura-input-with-prefix-input" step="0.01" placeholder="10000.00" required>
                            </div>
                        </div>

                        <!-- Target Date -->
                        <div class="sakura-form-group">
                            <label for="goalTargetDate">Target Date *</label>
                            <div class="sakura-datepicker" id="goalTargetDatepicker">
                                <div class="sakura-datepicker-input">
                                    <i class="bi bi-calendar3"></i>
                                    <input type="text" id="goalTargetDate" class="sakura-input" placeholder="MM/DD/YYYY" required>
                                    <input type="hidden" id="goalTargetDateValue">
                                </div>
                                <div class="sakura-datepicker-dropdown">
                                    <div class="sakura-datepicker-header">
                                        <button type="button" class="sakura-datepicker-prev"><i class="bi bi-chevron-left"></i></button>
                                        <div class="sakura-datepicker-month"></div>
                                        <button type="button" class="sakura-datepicker-next"><i class="bi bi-chevron-right"></i></button>
                                    </div>
                                    <div class="sakura-datepicker-weekdays">
                                        <div class="sakura-datepicker-weekday">Sun</div>
                                        <div class="sakura-datepicker-weekday">Mon</div>
                                        <div class="sakura-datepicker-weekday">Tue</div>
                                        <div class="sakura-datepicker-weekday">Wed</div>
                                        <div class="sakura-datepicker-weekday">Thu</div>
                                        <div class="sakura-datepicker-weekday">Fri</div>
                                        <div class="sakura-datepicker-weekday">Sat</div>
                                    </div>
                                    <div class="sakura-datepicker-days"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Initial Contribution -->
                    <div class="sakura-form-group">
                        <label for="goalInitialAmount">Initial Contribution (Optional)</label>
                        <div class="sakura-input-with-prefix">
                            <span class="sakura-input-prefix">$</span>
                            <input type="number" id="goalInitialAmount" class="sakura-input sakura-input-with-prefix-input" step="0.01" placeholder="0.00">
                        </div>
                        <p class="sakura-form-help">
                            <i class="bi bi-info-circle"></i>
                            Add starting funds to your goal (if any)
                        </p>
                    </div>

                    <!-- Description -->
                    <div class="sakura-form-group">
                        <label for="goalDescription">Description (Optional)</label>
                        <textarea id="goalDescription" class="sakura-input sakura-textarea" rows="3" placeholder="Why is this goal important to you?"></textarea>
                    </div>
                </form>
            </div>
            <div class="sakura-modal-footer">
                <button type="button" class="sakura-btn sakura-btn--outline" data-close-modal>Cancel</button>
                <button type="submit" form="createGoalForm" class="sakura-btn sakura-btn--primary">
                    <i class="bi bi-plus-lg"></i>
                    Create Goal
                </button>
            </div>
        </div>
    </div>

    <script src="src/sakura.js"></script>
    <script src="src/transactions-manager.js"></script>
</body>
</html>
